extends: standard

env:
  mocha: true

plugins:
  - node
  - chai-expect
  - chai-friendly
  - mocha

parserOptions:
  sourceType: script

rules:
  arrow-parens:
    - warn
    - as-needed
    - requireForBlockBody: false
  new-cap:
    - error
    - newIsCap: true
      capIsNew: true
  no-shadow: warn
  no-unused-expressions: off
  no-var: warn
  prefer-arrow-callback: warn
  prefer-const: warn
  strict:
    - warn
    - never

  chai-expect/no-inner-compare: error
  chai-expect/missing-assertion: error
  chai-expect/terminating-properties: error

  chai-friendly/no-unused-expressions: error

  import/newline-after-import: warn
  import/no-absolute-path: warn
  import/no-dynamic-require: warn
  import/no-extraneous-dependencies: warn
  import/no-mutable-exports: warn
  import/order:
    - warn
    - groups:
        - - builtin
          - external
        - - sibling
          - index
        - parent
      newlines-between: always-and-inside-groups

  mocha/handle-done-callback: error
  mocha/max-top-level-suites: error
  mocha/no-exclusive-tests: warn
  mocha/no-global-tests: error
  mocha/no-identical-title: error
  mocha/no-nested-tests: error
  mocha/no-pending-tests: error
  mocha/no-return-and-callback: error
  mocha/no-setup-in-describe: error
  mocha/no-sibling-hooks: error
  mocha/no-skipped-tests: warn
  mocha/no-top-level-hooks: error
  mocha/prefer-arrow-callback: error
  mocha/no-async-describe: error

  node/exports-style: warn
  node/no-unsupported-features/es-builtins: warn
  node/no-unsupported-features/es-syntax:
    - warn
    - ignores:
        - modules
  node/no-unsupported-features/node-builtins: warn
  node/shebang: warn

  promise/catch-or-return:
    - warn
    - terminationMethod:
        - catch
        - asCallback
  promise/no-callback-in-promise: warn
  promise/no-return-wrap: warn
