\documentclass[a4paper, draft]{amsart}

\usepackage{a4wide}
\usepackage[english]{babel}
\usepackage[colorlinks, final]{hyperref}
\usepackage[utf8]{inputenc}

\usepackage{amsmath, amscd, amsfonts, amsthm, amssymb, bbm, mathtools}
\usepackage{aliascnt}
<% if (locals.hasAppendix) { -%>
\usepackage{apptools}
<% } -%>
\usepackage{comment}
\usepackage{float, graphicx, tikz}
\usepackage{xkvltxp, fixme}

\fxsetup{targetlayout=color}

\title{Put Title Here}\fxerror[layout={index}]{Put Title}
\author{<%= author %>}

\address{<%= address %>}
\email{<%= email %>}

\newcommand{\autotheorem}[3]{
\newaliascnt{#1counter}{#2}
\newtheorem{#1}[#1counter]{#3}
\expandafter\newcommand\csname #1counterautorefname\endcsname{#3}
}

\makeatletter

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}

\autotheorem{thm}{theorem}{Theorem}
\autotheorem{lem}{theorem}{Lemma}
\autotheorem{prop}{theorem}{Proposition}
\autotheorem{cor}{theorem}{Corollary}
\autotheorem{fact}{theorem}{Fact}


\theoremstyle{definition}
\autotheorem{defn}{theorem}{Definition}
\autotheorem{exm}{theorem}{Example}

\theoremstyle{remark}
\autotheorem{rem}{theorem}{Remark}

<% if (locals.hasAppendix) { -%>
\AtAppendix{\counterwithin{theorem}{section}}
\AtAppendix{\counterwithin{equation}{section}}
<% } -%>

\hypersetup{
  pdftitle={\@title},
  pdfauthor={\@author}
}

\makeatother

\input{shortcuts}

\begin{document}

<% if (type === 'article') { -%>
\begin{abstract}
\input{abstract}
\end{abstract}

<% } -%>
\maketitle

\listoffixmes

<% if (type === 'article') { -%>
\input{introduction}
\input{acknowledgments}

\input{preliminaries}
\input{main}

<% if (hasAppendix) { -%>
\newpage
\appendix
\input{appendix}
<% } -%>

\newpage
<% } else { -%>
\fxfatal[layout=inline]{Write notes.}
<% } -%>

<% if (hasBiblography) { -%>
\bibliographystyle{alpha}
\bibliography{main}
<% } -%>

\end{document}
